<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Om: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Om
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Main Page </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="introduction__"></a>
Introduction</h1>
<p>The <a href="http://om-language.org">Om language</a> is:</p><ul>
<li>a novel, maximally-simple <a href="http://concatenative.org">concatenative</a>, <a href="http://en.wikipedia.org/wiki/Homoiconicity">homoiconic</a> <b>programming and algorithm notation language</b> with:<ul>
<li><a class="el" href="index.html#language__syntax__">minimal syntax</a>, comprised of only three elements.</li>
<li><a class="el" href="index.html#language__functions__">prefix notation</a>, in which functions manipulate the remainder of the program itself.</li>
<li><a class="el" href="index.html#language__data__">panmorphic typing</a>, allowing programming without data types.</li>
</ul>
</li>
<li>a trivial-to-parse <b>data transfer format</b>.</li>
<li><b>unicode-correct</b>: any <a href="http://www.utf8everywhere.org">UTF-8</a> text (without byte-order marker) defines a valid Om program.</li>
<li>implemented as a <b>C++ library</b> and:<ul>
<li><a class="el" href="index.html#using__including__">embeddable</a> into any C++ or Objective-C++ program.</li>
<li><a class="el" href="index.html#contributing__developing__">extensible</a> with new data types or operations.</li>
</ul>
</li>
</ul>
<p>The Om language is <b><em>not</em></b>:</p><ul>
<li><b>complete</b>. Although the intent is to develop it into a full-featured language, the software is currently at a very early "proof of concept" stage, requiring the addition of many operations (such as basic number and file operations) and optimizations before it can be considered useful for any real-world purpose. It has been made available in order to demonstrate the underlying concepts and welcome others to get involved in early development.</li>
<li><b>stationary</b>. Om will likely undergo significant changes on its way to version 1.0.</li>
</ul>
<h1><a class="anchor" id="license__"></a>
License</h1>
<p>This program and the accompanying materials are made available under the terms of the <a href="http://www.eclipse.org/legal/epl-v10.html">Eclipse Public License, Version 1.0</a>, which accompanies this distribution.</p>
<p>For more information about this license, please see the <a href="http://www.eclipse.org/legal/eplfaq.php">Eclipse Public License FAQ</a>.</p>
<h1><a class="anchor" id="using__"></a>
Using</h1>
<p>The Om source code can be used for:</p><ul>
<li><a class="el" href="index.html#using__building__">Building</a> a stand-alone interpreter from a script-generated build project.</li>
<li><a class="el" href="index.html#using__including__">Including</a> as a C++ header-only library.</li>
</ul>
<h2><a class="anchor" id="using__downloading__"></a>
Downloading</h2>
<p>The Om source code is downloadable from the <a href="https://github.com/sparist/Om">Om GitHub repository</a>:</p><ul>
<li>The <b>Development</b> version (to which this documentation applies) can be obtained via <a href="https://github.com/sparist/Om">Git clone</a> or <a href="https://github.com/sparist/Om/archive/master.zip">archive file</a>.</li>
<li><b>Released</b> versions can be obtained via archive files from the <a href="https://github.com/sparist/Om/tags">GitHub tags page</a>.</li>
</ul>
<h2><a class="anchor" id="using__dependencies__"></a>
Dependencies</h2>
<h3><a class="anchor" id="using__dependencies__programs__"></a>
Programs</h3>
<p>To run scripts which build the dependency <a class="el" href="index.html#using__dependencies__libraries__">Libraries</a> and generate the build project, the following programs are required:</p><ul>
<li><a href="http://cmake.org">CMake</a></li>
<li>Mac OS X:<ul>
<li>Xcode</li>
</ul>
</li>
<li>Windows:<ul>
<li>Visual Studio</li>
<li><a href="http://cygwin.com">Cygwin</a> (with bash, GNU make, ar, and ranlib)</li>
</ul>
</li>
<li>Ubuntu:<ul>
<li>Build-Essential package (<code>sudo apt-get install build-essential</code>)</li>
</ul>
</li>
</ul>
<p>To build the <a class="el" href="index.html#using__building__documentation__">Documentation</a> in the build project, the following additional programs are required:</p><ul>
<li><a href="http://doxygen.org">Doxygen</a></li>
<li><a href="http://graphviz.org">Graphviz</a></li>
</ul>
<p>To ensure that correct programs are used, programs should be listed in the command line path in the following order:</p><ul>
<li>Graphviz, Doxygen, and CMake</li>
<li>Cygwin (&quot;<em>[cygwin]</em>/bin&quot;) <b>(Windows only)</b></li>
<li>Any other paths</li>
</ul>
<h3><a class="anchor" id="using__dependencies__libraries__"></a>
Libraries</h3>
<p>The following libraries are required to build the Om code:</p><ul>
<li>ICU4C (the C++ implementation of the <a href="http://icu-project.org">ICU</a> library)</li>
<li><a href="http://boost.org">Boost</a></li>
</ul>
<h2><a class="anchor" id="using__building__"></a>
Building</h2>
<p>A build project, containing targets for building the interpreter, tests, and documentation, can be generated into &quot;<em>[builds directory path]</em>/Om/projects/<em>[project]</em>&quot; by running the appropriate "generate" script from the desired builds directory:</p><ul>
<li>"generate.sh" (Unix-based platforms)</li>
<li>"generate.bat" (Windows, to be run from the Visual Studio command line)</li>
</ul>
<p>Arguments include the desired project name (required), followed by any desired CMake arguments.</p>
<p>By default, this script automatically installs all external dependency libraries (downloading and building as necessary) into &quot;<em>[builds directory path]</em>/<em>[dependency name]</em>/downloads/<em>[MD5]</em>/build/<em>[platform]</em>/install&quot;. This behaviour can be overridden by passing paths of pre-installed dependency libraries to the script:</p><ul>
<li><code>-D Icu4cInstallDirectory:Path=&quot;<em>[absolute ICU4C install directory path]</em>&quot;</code></li>
<li><code>-D BoostInstallDirectory:Path=&quot;<em>[absolute Boost install directory path]</em>&quot;</code></li>
</ul>
<h3><a class="anchor" id="using__building__interpreter__"></a>
Interpreter</h3>
<p>The <b>Om.Interpreter</b> target builds the interpreter executable as &quot;<em>[Om build directory path]</em>/executables/<em>[platform]</em>/<em>[configuration]</em>/Om.Interpreter&quot;. The interpreter:</p><ul>
<li>Accepts an optional command-line argument that specifies the desired UTF-8 <a href="http://userguide.icu-project.org/locale">locale string</a>. The default value is "en_US.UTF-8".</li>
<li>Reads input from the standard input stream, ending at the first unbalanced end brace, and writes output to the standard output stream as it is computed.</li>
</ul>
<h3><a class="anchor" id="using__building__test__"></a>
Test</h3>
<p>The <b>Om.Test</b> target builds the test executable, which runs all unit tests, as &quot;<em>[Om build directory path]</em>/executables/<em>[platform]</em>/<em>[configuration]</em>/Om.Test&quot;. These tests are also run when building the <code>RUN_TESTS</code> target (which is included when building the <code>ALL_BUILD</code> target).</p>
<h3><a class="anchor" id="using__building__documentation__"></a>
Documentation</h3>
<p>The <b>Om.Documentation</b> target builds this documentation into the following folders in &quot;<em>[Om build directory path]</em>/documentation&quot;:</p><ul>
<li><b>&quot;html&quot;:</b> This HTML documentation. To view in a browser, open "index.html".</li>
<li><b>&quot;xml&quot;:</b> The XML documentation, which can be read by an integrated development environment to show context-sensitive documentation.</li>
</ul>
<h2><a class="anchor" id="using__including__"></a>
Including</h2>
<p>Om is a header-only C++ library that can be incorporated into any C++ or Objective-C++ project as follows:</p><ul>
<li>Add the Om "code" directory to the include path and include the desired files. Inclusion of any operation header files will automatically add the corresponding operation to the global system. Include "om.hpp" to include all Om header files.</li>
<li>Configure the project to link to the code dependencies as necessary, built with the correct configuration for the project. See the dependency "build.cmake" scripts for guidance.</li>
<li>Call the <code><a class="el" href="class_om_1_1_language_1_1_system.html#a6bfe8ebaa1fb6aa40dbfe0027bba70ae" title="Initializes the System.">Om::Language::System::Initialize</a></code> function prior to use (e.g. in the <code>main</code> function), passing in the desired UTF-8 <a href="http://userguide.icu-project.org/locale">locale string</a> (e.g. "en_US.UTF-8").</li>
<li>Construct an <code><a class="el" href="class_om_1_1_language_1_1_environment.html" title="An unowned Translator collection for which lookups are done for each Translator, in reverse order,...">Om::Language::Environment</a></code>, populate with any additional operator-program mappings, and call one of its <code><a class="el" href="class_om_1_1_language_1_1_translator.html#aefa20854946fcb17e26969c3d9fad450" title="Evaluates input from the CodePoint Source and pushes it to the CodePoint Sink.">Om::Language::Environment::Evaluate</a></code> functions to evaluate a program.</li>
</ul>
<p>For more in-depth usage of the library, see the <a class="el" href="namespace_om.html" title="The Om library.">Om</a> code documentation.</p>
<h1><a class="anchor" id="language__"></a>
Language</h1>
<h2><a class="anchor" id="language__syntax__"></a>
Syntax</h2>
<p>An Om program is a combination of three elements&mdash;operator, separator, and operand&mdash;as follows: </p><div class="image">
<img src="program.png" alt="" width="100%"/>
</div>
<h3><a class="anchor" id="language__syntax__operator__"></a>
Operator</h3>
<p>An operator has the following syntax: </p><div class="image">
<img src="operator.png" alt="" width="100%"/>
</div>
<p>Backquotes (<code>`</code>) in operators are disregarded if the code point following is not a backquote, operand brace, or separator code point.</p>
<h3><a class="anchor" id="language__syntax__separator__"></a>
Separator</h3>
<p>A separator has the following syntax: </p><div class="image">
<img src="separator.png" alt="" width="100%"/>
</div>
<h3><a class="anchor" id="language__syntax__operand__"></a>
Operand</h3>
<p>An operand has the following syntax: </p><div class="image">
<img src="operand.png" alt="" width="100%"/>
</div>
<h2><a class="anchor" id="language__functions__"></a>
Functions</h2>
<p>The Om language is <a href="http://concatenative.org">concatenative</a>, meaning that each Om program evaluates to a function (that takes a program as input, and returns a program as output) and the concatenation of two programs (with an intervening separator, as necessary) evaluates to the composition of the corresponding functions.</p>
<h3><a class="anchor" id="language__functions__prefix__"></a>
Prefix Notation</h3>
<p>Unlike other concatenative languages, the Om language uses <a href="http://en.wikipedia.org/wiki/Polish_notation">prefix notation</a>. A function takes the remainder of the program as input and returns a program as output (which gets passed as input to the leftward function).</p>
<p>Prefix notation has the following advantages over postfix notation:</p><ul>
<li>Stack underflows are impossible.</li>
<li>Prefix notation more closely models function composition. Instead of storing a data stack in memory, the Om evaluator stores a composed partial function.</li>
<li>The evaluator can read, parse and evaluate the input stream in a single pass, sending results to the output stream as soon as they are evaluated. This cannot be done with a postfix, stack-based language because any data on the stack must remain there as it may be needed by a function later.</li>
<li>Functions can be optimized to only read into memory the data that is required; stack-based postfix languages have no knowledge of the function to apply until the data is already in memory, on the stack.</li>
<li>Incoming data, such as events, become simple to handle at a language level: a program might evaluate to a function that acts as a state machine that processes any additional data appended to the program and transitions to a new state, ready to process new data.</li>
<li>An integrated development environment can provide hints to the user about the data that is expected by a function.</li>
</ul>
<h3><a class="anchor" id="language__functions__evaluation__"></a>
Evaluation</h3>
<p>Only the <em>terms</em> (operators and operands) of a program are significant to functions: separators are discarded from input, and are inserted between output terms in a "normalized" form (for consistent formatting and proper operator separation).</p>
<p>There are three fundamental types of functions:</p><ul>
<li><b>Identity:</b> A function whose output program contains all the terms in the input program.</li>
<li><b>Constant:</b> A function whose output program contains a term, defined by the function, followed by all terms in the input program.</li>
<li><b>Operation:</b> A function that is named by an operator and defines a computation. An operation processes operands at the front of the input program as data for the computation, and pushes any terms generated by the computation onto the output program, until one of two things happens:<ul>
<li>If the computation is completed, the rest of the input terms are pushed onto the output program.</li>
<li>If the computation cannot be completed (due to insufficient operands), the operator that names the operation is pushed onto the output program, followed by all remaining input terms.</li>
</ul>
</li>
</ul>
<p>Programs are evaluated as functions in the following way:</p><ul>
<li>The <b>empty program</b> evaluates to the identity function.</li>
<li>Programs that contain only a <b>single element</b> evaluate to functions as follows:<ul>
<li><b>Separator:</b> Evaluates to the identity function.</li>
<li><b>Operand:</b> Evaluates to a constant function that pushes the operand, followed by all input terms, onto the output program.</li>
<li><b>Operator:</b> Evaluates to the operation defined for the operator in the environment. If none, evaluates to a constant function that pushes the operator, followed by all input terms, onto the output program.</li>
</ul>
</li>
<li>Programs that contain <b>multiple elements</b> can be considered a concatenation of sub-programs that each contain one of the elements. The concatenated program evaluates to the composition of the functions that each sub-program evaluates to.</li>
</ul>
<p>For example, program "A B" is the concatenation of programs "A", " ", and "B". The separator evaluates to the identity operation and can be disregarded. The programs "A" and "B" evaluate to functions which will be denoted as <code>A</code> and <code>B</code>, respectively. The input and output are handled by the composed function as follows:</p><ul>
<li>Function <code>B</code> receives the input, and its output becomes the input for function <code>A</code>.</li>
<li>Function <code>A</code> receives the input, and its output becomes that of the composed function.</li>
</ul>
<p>Any programs may be concatenated together; however, note that concatenating programs "A" and "B" without an intervening separator would result in a program containing a single operator "AB", which is unrelated to operators "A" or "B".</p>
<h3><a class="anchor" id="language__functions__operations__"></a>
Operations</h3>
<p>All operation implementations provided are documented in the <a class="el" href="group__om____operation____.html">Operation</a> module.</p>
<h2><a class="anchor" id="language__data__"></a>
Data</h2>
<p>There are no traditional data types in the Om language: every data value is represented by an operand.</p>
<h3><a class="anchor" id="language__data__panmorphism__"></a>
Panmorphism</h3>
<p>The Om language uses a unique <em>panmorphic</em> type system, from Ancient Greek πᾶν (pan, "all") and μορφή (morphē, “form”), in which all data values are exposed exclusively through a common immutable interface.</p>
<p>In the case of the Om language, every data value is entirely represented in the language as an operand. Any operation will accept any operand as a valid input and interrogate its data solely through its contained program (a sequence of operator, separator, and/or operand). The operation is then free to process the data however is appropriate, and any operand that it produces as output can then be interrogated and processed by the next operation in the same way.</p>
<h3><a class="anchor" id="language__data__implementation__"></a>
Implementation</h3>
<p>Although any operand can be treated as containing a literal array of operand, operator and/or separator elements, the implementation of operands takes advantage of some optimizations:</p><ul>
<li>Each operand in memory actually contains one of several possible program implementations, each optimized for a specific set of operations. For example, some operations treat separators as insignificant; operands produced by these operations could contain a program implementation that stores only terms (operators and/or operands) and presents a "normalized" separator (such as a line separator) between each term.</li>
<li>Operations can interrogate an input operand for its program implementation type; if it is the optimal implementation type for the operation, the operation can manipulate the operand directly to produce the same result more efficiently.</li>
</ul>
<p>Operations in a program can be ordered by the programmer to increase performance by minimizing conversions between program implementations, but it is not necessary for obtaining a correct computation. Where relevant, an operation will document the program implementation types of its inputs and outputs to allow for this optional level of optimization.</p>
<h3><a class="anchor" id="language__data__programs__"></a>
Programs</h3>
<p>All program implementations provided are documented in the <a class="el" href="group__om____program____.html">Program</a> module.</p>
<h2><a class="anchor" id="language__examples__"></a>
Examples</h2>
<p>The following program contains a single operand containing an operator &quot;<code>Hello,</code>&quot;, a separator &quot;<code> </code>&quot;, and another operator &quot;<code>world!</code>&quot;: </p><table class="doxtable">
<tr>
<td><code><b>{Hello, world!}</b></code> </td></tr>
<tr>
<td><code><em>{Hello, world!}</em></code> </td></tr>
</table>
<p>The following program contains a single operand containing an operator &quot;<code>Hello,</code>&quot;, a separator &quot;<code> </code>&quot;, and an operand &quot;<code>{universe!}</code>&quot; which in turn contains a single operator &quot;<code>universe!</code>&quot;: </p><table class="doxtable">
<tr>
<td><code><b>{Hello, {universe!}}</b></code> </td></tr>
<tr>
<td><code><em>{Hello, {universe!}}</em></code> </td></tr>
</table>
<p>Note that separators are significant inside operands: </p><table class="doxtable">
<tr>
<td><code><b>{Hello, &#160;&#160;world!}</b></code> </td></tr>
<tr>
<td><code><em>{Hello, &#160;&#160;world!}</em></code> </td></tr>
</table>
<p>Operands can be dropped and copied via the <a class="el" href="group__om____operation____drop__operation____.html">drop</a> and <a class="el" href="group__om____operation____copy__operation____.html">copy</a> operations: </p><table class="doxtable">
<tr>
<td><code><b>drop {A}{B}{C}</b></code> </td></tr>
<tr>
<td><code><em>{B}{C}</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>copy {A}{B}{C}</b></code> </td></tr>
<tr>
<td><code><em>{A}{A}{B}{C}</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>drop copy {A}</b></code> </td></tr>
<tr>
<td><code><em>{A}</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>copy copy {A}</b></code> </td></tr>
<tr>
<td><code><em>{A}{A}{A}</em></code> </td></tr>
</table>
<p>The <a class="el" href="group__om____operation____drop__operation____.html">drop</a> operation can therefore be used for comments: </p><table class="doxtable">
<tr>
<td><code><b>drop {This is a comment.} {This is not a comment.}</b></code> </td></tr>
<tr>
<td><code><em>{This is not a comment.}</em></code> </td></tr>
</table>
<p>The <a class="el" href="group__om____operation____choose__operation____.html">choose</a> operation selects one of two operands, depending on whether a third is empty: </p><table class="doxtable">
<tr>
<td><code><b>choose {It was empty.}{It was non-empty.}{I am not empty.}</b></code> </td></tr>
<tr>
<td><code><em>{It was non-empty.}</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>choose {It was empty.}{It was non-empty.}{}</b></code> </td></tr>
<tr>
<td><code><em>{It was empty.}</em></code> </td></tr>
</table>
<p>An operation without sufficient operands evaluates to itself and whatever operands are provided: </p><table class="doxtable">
<tr>
<td><code><b>drop</b></code> </td></tr>
<tr>
<td><code><em>drop</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>choose {It was empty.}{It was non-empty.}</b></code> </td></tr>
<tr>
<td><code><em>choose{It was empty.}{It was non-empty.}</em></code> </td></tr>
</table>
<p>The <a class="el" href="group__om____operation____quote__operation____.html">quote</a> and <a class="el" href="group__om____operation____dequote__operation____.html">dequote</a> operations add and remove a layer of operand braces, respectively: </p><table class="doxtable">
<tr>
<td><code><b>quote {B}</b></code> </td></tr>
<tr>
<td><code><em>{{B}}</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>dequote {{B}}</b></code> </td></tr>
<tr>
<td><code><em>{B}</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>dequote {copy}</b></code> </td></tr>
<tr>
<td><code><em>copy</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>dequote {copy} {A}</b></code> </td></tr>
<tr>
<td><code><em>{A}{A}</em></code> </td></tr>
</table>
<p>Operands can be popped from and pushed into: </p><table class="doxtable">
<tr>
<td><code><b>&lt;-[characters] {ABC}</b></code> </td></tr>
<tr>
<td><code><em>{A}{BC}</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>-&gt;[literal] {A}{BC}</b></code> </td></tr>
<tr>
<td><code><em>{ABC}</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>&lt;-[terms] {some terms}</b></code> </td></tr>
<tr>
<td><code><em>{some}{terms}</em></code> </td></tr>
</table>
<p>A new operator definition can be provided with the <a class="el" href="group__om____operation____define__operation____.html">define</a> operation, where the first operand is treated as containing a <a class="el" href="group__om____lexicon____.html">Lexicon</a> with operator-to-operand mappings, and the second operand contains the program to evaluate using the defined operator: </p><table class="doxtable">
<tr>
<td><code><b>define { double-quote {quote quote} } { double-quote {A} }</b></code> </td></tr>
<tr>
<td><code><em>{{{A}}}</em></code> </td></tr>
</table>
<p>Any string can be used as an operator, with separators and operand braces escaped with a backquote: </p><table class="doxtable">
<tr>
<td><code><b>define { double` quote {quote quote} } { double` quote {A} }</b></code> </td></tr>
<tr>
<td><code><em>{{{A}}}</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>&lt;-[terms] { double` quote operator }</b></code> </td></tr>
<tr>
<td><code><em>{double` quote}{operator}</em></code> </td></tr>
</table>
<p>Unicode is fully supported: </p><table class="doxtable">
<tr>
<td><code><b>&lt;-[characters] {한글}</b></code> </td></tr>
<tr>
<td><code><em>{한}{글}</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>&lt;-[code` points] {한글}</b></code> </td></tr>
<tr>
<td><code><em>{ᄒ}{ᅡᆫ글}</em></code> </td></tr>
</table>
<table class="doxtable">
<tr>
<td><code><b>&lt;-[terms] {한글 韓}</b></code> </td></tr>
<tr>
<td><code><em>{한글}{韓}</em></code> </td></tr>
</table>
<p>Strings are automatically <a href="http://unicode.org/reports/tr15">normalized</a> to <a href="http://unicode.org/reports/tr15/#Norm_Forms">NFD</a>, but can be explicitly normalized to <a href="http://unicode.org/reports/tr15/#Norm_Forms">NFKD</a> using the <a class="el" href="group__om____operation____normalize__operation____.html">normalize</a> operation: </p><table class="doxtable">
<tr>
<td><code><b>normalize {2⁵}</b></code> </td></tr>
<tr>
<td><code><em>{25}</em></code> </td></tr>
</table>
<p>Recursion is very efficient in the Om language, due to (a) the "eager" evaluation model enabled by prefix concatenative syntax (i.e. data is consumed immediately rather than being left on a stack), and (b) the non-recursive evaluation implementation in the evaluator that minimizes memory overhead of recursive calls and prevents stack overflow. The following example uses recursion to give the minutes in a colon-delimited 24-hour time string: </p><table class="doxtable">
<tr>
<td><code><b>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { minutes {1:23} }<br  />
 </b></code>  </td></tr>
<tr>
<td><code><em>{23}</em></code>  </td></tr>
</table>
<p>An important feature of Om is that each step of an evaluation can be represented as a program. The following is the above program broken down into evaluation steps, where the code that is about to be replaced is <b>bold</b>, and the latest replacement is <em>italicized</em>: </p><table class="doxtable">
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { <b>minutes</b> {1:23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { <em>dequote choose {minutes} {} = {:} &lt;-[characters]</em> {1:23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { dequote choose {minutes} {} = {:} <b>&lt;-[characters] {1:23}</b> }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { dequote choose {minutes} {} = {:} <em>{1} {:23}</em> }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { dequote choose {minutes} {} <b>= {:} {1}</b> {:23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { dequote choose {minutes} {} <em>{}</em> {:23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { dequote <b>choose {minutes} {} {}</b> {:23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { dequote <em>{minutes}</em> {:23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { <b>dequote {minutes}</b> {:23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { <em>minutes</em> {:23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { <b>minutes</b> {:23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { <em>dequote choose {minutes} {} = {:} &lt;-[characters]</em> {:23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { dequote choose {minutes} {} = {:} <b>&lt;-[characters] {:23}</b> }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { dequote choose {minutes} {} = {:} <em>{:} {23}</em> }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { dequote choose {minutes} {} <b>= {:} {:}</b> {23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { dequote choose {minutes} {} <em>{{:}}</em> {23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { dequote <b>choose {minutes} {} {{:}}</b> {23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { dequote <em>{}</em> {23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { <b>dequote {}</b> {23} }<br  />
 </code>  </td></tr>
<tr>
<td><code>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { {23} }<br  />
 </code>  </td></tr>
<tr>
<td><code><b>define<br  />
 { minutes { dequote choose {minutes} {} = {:} &lt;-[characters] } }<br  />
 { {23} }</b><br  />
 </code>  </td></tr>
<tr>
<td><code><em>{23}</em></code>  </td></tr>
</table>
<p>The <a class="el" href="group__om____operation____rearrange__operation____.html">rearrange</a> operation provides operand name binding, allowing for a more applicative style. The following example is a simplistic implementation of a left <a href="http://en.wikipedia.org/wiki/Fold_(higher-order_function)">fold</a>, along with an example call: </p><div class="fragment"><div class="line">define</div>
<div class="line">{</div>
<div class="line">    [Fold]&lt;- {</div>
<div class="line">        rearrange</div>
<div class="line">        {</div>
<div class="line">            rearrange</div>
<div class="line">            {</div>
<div class="line">                dequote</div>
<div class="line">                choose</div>
<div class="line">                quote Result</div>
<div class="line">                pair pair pair {[Fold]&lt;-} Function Result Remainder</div>
<div class="line">                Remainder</div>
<div class="line">            }</div>
<div class="line">            {Result Remainder}</div>
<div class="line">            dequote Function Base &lt;-[terms] Source</div>
<div class="line">        }</div>
<div class="line">        {Function Base Source}</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line">{</div>
<div class="line">    [Fold]&lt;- {[literal]&lt;-} {} {1 2 3}</div>
<div class="line">}</div>
</div><!-- fragment --><p>The result is <code>{321}</code>.</p>
<p>The example works as follows:</p><ul>
<li><code>[Fold]&lt;-</code> takes three operands:<ul>
<li><code>Function</code></li>
<li><code>Base</code></li>
<li><code>Source</code></li>
</ul>
</li>
<li>The first term is popped from the <code>Source</code>.</li>
<li>The <code>Function</code> is applied to:<ul>
<li>the <code>Base</code></li>
<li>the popped first term of the <code>Source</code></li>
<li>the remainder of the <code>Source</code></li>
<li>the remainder of the input program</li>
</ul>
</li>
<li>The first two operands output by the <code>Function</code> are:<ul>
<li><code>Result</code></li>
<li><code>Remainder</code></li>
</ul>
</li>
<li>If the <code>Remainder</code> is empty, the <code>Result</code> is output. Otherwise, <code>Function</code>, <code>Result</code>, and <code>Remainder</code> are passed to a recursive <code>[Fold]&lt;-</code> call.</li>
</ul>
<p>A few things should be noted about the above example:</p><ul>
<li>The <a class="el" href="group__om____operation____.html">Operation</a> list is very short at the moment; as it expands, higher-level constructs should allow for simplification of algorithms such as this one.</li>
<li>When reading Om code, it can be difficult to mentally group operations with the operands they consume (contrasted with Scheme, in which they are grouped at design time with parentheses). However, it should be possible for an Om integrated development environment to generate a graphical indication of these groupings dynamically.</li>
</ul>
<h1><a class="anchor" id="contributing__"></a>
Contributing</h1>
<p>There are several ways to contribute to the Om project:</p><ul>
<li>By <a class="el" href="index.html#contributing__developing__">Developing</a> new <a class="el" href="group__om____operation____.html">Operation</a> and <a class="el" href="group__om____program____.html">Program</a> classes.</li>
<li>By <a class="el" href="index.html#contributing__reporting_issues__">Reporting Issues</a> via bugs, patches, or enhancement requests.</li>
<li>By <a class="el" href="index.html#contributing__funding__">Funding</a> further development of the Om language.</li>
</ul>
<h2><a class="anchor" id="contributing__developing__"></a>
Developing</h2>
<p>Om is written in modern, portable C++ that adheres to the <a href="http://sparist.github.io/cpp_coding_standard.html">Sparist C++ Coding Standard</a>.</p>
<p><b>Note:</b> Because this is an early-stage project, there are not yet any compatibility guarantees between versions.</p>
<h3><a class="anchor" id="contributing__developing__forking__"></a>
Forking</h3>
<p>Om code can be <a href="https://github.com/sparist/Om/fork">forked</a> from the <a href="https://github.com/sparist/Om">Om GitHub repository</a>.</p>
<h3><a class="anchor" id="contributing__developing__building__"></a>
Building</h3>
<p>See the <a class="el" href="index.html#using__">Using</a> section for instructions on building the code.</p>
<h3><a class="anchor" id="contributing__developing__adding_or_removing_files"></a>
Adding or Removing Files</h3>
<p>When adding or removing files from source, re-run the "generate" script from the build directory to update the project.</p>
<h3><a class="anchor" id="contributing__developing__adding_operations__"></a>
Adding Operations</h3>
<p>Additional native functionality can be added to the Om language by implementing new operations in C++.</p>
<p>There are two ways to implement an operation: as a composite operation, or an atomic operation.</p>
<p>To implement a composite operation, or an atomic operation that consumes no operands:</p><ul>
<li>Define the operation <code>class</code> in the <code><a class="el" href="namespace_om_1_1_language_1_1_operation.html" title="A namespace for all Operation implementations.">Om::Language::Operation</a></code> namespace.</li>
<li>Define the static <code>GetName()</code> method, which returns a <code>static char const *</code> containing the name.</li>
<li>Define the static <code>Give(<a class="el" href="class_om_1_1_language_1_1_evaluation.html" title="The current evaluation.">Om::Language::Evaluation</a> &amp;)</code> method, with no return value, to give existing operations and/or elements to the evaluation.</li>
</ul>
<p>To define an atomic operation that consumes one or more operands:</p><ul>
<li>Define the operation <code>class</code>, derived from <code><a class="el" href="class_om_1_1_language_1_1_operation_1_1_default_incomplete_operation.html" title="A partial implementation of IncompleteOperation.">Om::Language::Operation::DefaultIncompleteOperation</a></code> (which has the operation <code>class</code> as its template argument), in the <code><a class="el" href="namespace_om_1_1_language_1_1_operation.html" title="A namespace for all Operation implementations.">Om::Language::Operation</a></code> namespace.</li>
<li>Define the static <code>GetName()</code> method, which returns a <code>static char const *</code> containing the name.</li>
<li>Implement the functions necessary to compile.</li>
<li>Optionally override virtual function implementations in <code><a class="el" href="class_om_1_1_language_1_1_operation_1_1_default_incomplete_operation.html" title="A partial implementation of IncompleteOperation.">Om::Language::Operation::DefaultIncompleteOperation</a></code> that may be more optimally implemented in the operation.</li>
</ul>
<p>For any operation implementation, code must be added to the operation header that inserts the operation into the system when the header is included, as follows (where <code>WhateverOperation</code> is a stand-in for the name of the operation <code>class</code>):</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>{</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="class_om_1_1_language_1_1_system_1_1_definition.html">Om::Language::System::Definition&lt;WhateverOperation&gt;</a> <span class="keyword">const</span> theWhateverDefinition;</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="ttc" id="aclass_om_1_1_language_1_1_system_1_1_definition_html"><div class="ttname"><a href="class_om_1_1_language_1_1_system_1_1_definition.html">Om::Language::System::Definition</a></div><div class="ttdoc">An inserter of an Operation into the static System instance.</div><div class="ttdef"><b>Definition:</b> <a href="system_8hpp_source.html#l00129">system.hpp:129</a></div></div>
</div><!-- fragment --><h3><a class="anchor" id="contributing__developing__adding_programs__"></a>
Adding Programs</h3>
<p>New data types can be added to the Om language by extending <code><a class="el" href="class_om_1_1_language_1_1_program.html" title="The Program implementation.">Om::Language::Program</a></code> and defining the functions necessary to instantiate the class. Use existing programs as a guide.</p>
<p>Program types should be defined in the <code><a class="el" href="namespace_om_1_1_language.html" title="The Om language implementation.">Om::Language</a></code> namespace.</p>
<h3><a class="anchor" id="contributing__developing__analyzing_code__"></a>
Analyzing Code</h3>
<p>Some basic free static analysis tools can be applied to the Om code:</p><ul>
<li><a href="https://github.com/terryyin/hfcca"><b>HFCCA</b></a> is a Python script that measures cyclomatic complexity and counts the number of lines of code in C++ source files, not including comments or tests. If Python is installed and in the path, HFCCA can be applied to Om by entering the following at the terminal from inside the Om directory: <blockquote class="doxtable">
<p><code>python <em>[path]</em>/hfcca.py -p -v code</code></p>
</blockquote>
</li>
<li><a href="http://cloc.sourceforge.net"><b>CLOC</b></a> is a stand-alone Perl script that determines total line counts. If Perl is installed, CLOC can be applied to Om by entering the following at the terminal from inside the Om directory: <blockquote class="doxtable">
<p><code><em>[path]</em>/cloc.pl code</code></p>
</blockquote>
</li>
</ul>
<h3><a class="anchor" id="contributing__developing__analyzing_tests__"></a>
Analyzing Test Coverage</h3>
<p>The Om.Test target of the Xcode project generates test coverage data that can be viewed as follows:</p><ul>
<li>Download and install <a href="http://code.google.com/p/coverstory/">CoverStory</a>. In Preferences, add <code>"*.ipp"</code> and <code>"*.hpp"</code> to the "SDK Files" list.</li>
<li>Build and run the Om.Test target.</li>
<li>In the CoverStory File menu, open the folder &quot;<em>[Om build directory path]</em>/projects/Xcode/Om.build/<em>[configuration]</em>/Om.Test.build/Objects-normal/x86_64&quot;, where <em>[configuration]</em> is the build configuration (e.g. "Debug", "Release"). The main CoverStory window should be populated as follows:<ul>
<li>The left pane shows a list of Om source files, each accompanied by a test coverage percentage.</li>
<li>The right pane shows the contents of the currently selected source file, with each line annotated with the number of times it was executed.</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="contributing__developing__submitting_changes__"></a>
Submitting Changes</h3>
<p>Changes can be submitted to Om via <a href="https://github.com/sparist/Om/pull/new/master">pull request</a>.</p>
<h2><a class="anchor" id="contributing__reporting_issues__"></a>
Reporting Issues</h2>
<p>Issues are reported and tracked with the <a href="https://github.com/sparist/Om/issues">Om GitHub issue tracker</a>.</p>
<p>Before reporting an issue, please search existing issues first to ensure that it is not a duplicate.</p>
<h2><a class="anchor" id="contributing__funding__"></a>
Funding</h2>
<p>The Om language is currently a spare-time project of <a href="http://sparist.com">one person</a>. If you would like to speed the development of the Om language in either a general or domain-specific direction, please contact me at <a href="#" onclick="location.href='mai'+'lto:'+'inf'+'or'+'mat'+'io'+'n@s'+'pa'+'ris'+'t.'+'com'+'?s'+'ubj'+'ec'+'t=O'+'m%'+'20F'+'un'+'din'+'g'; return false;">information@sparist.com</a>.</p>
<h1><a class="anchor" id="language__references__"></a>
References and Thanks</h1>
<p>The following additional reading may help explain some of the concepts that contributed to the Om language:</p><ul>
<li><a href="http://evincarofautumn.blogspot.ca/2012/02/why-concatenative-programming-matters.html">Why Concatenative Programming Matters</a></li>
<li>The Concatenative <a href="http://concatenative.org">wiki</a>, <a href="http://tech.groups.yahoo.com/group/concatenative">mailing list</a>, and <a href="http://en.wikipedia.org/wiki/Concatenative_programming_language">Wikipedia entry</a></li>
<li>A <a href="http://www.kevinalbrecht.com/code/joy-mirror">mirror</a> of Manfred von Thun's original pages on the groundbreaking Joy Programming Language (<a href="http://en.wikipedia.org/wiki/Joy_(programming_language)">Wikipedia entry</a>), the father of all concatenative languages</li>
</ul>
<p>Thanks to all of the people who contributed to:</p><ul>
<li>The libraries and tools that the Om implementation makes use of</li>
<li>The technologies and ideas that Om builds on</li>
<li>Om itself, in the form of bug reports, feedback, and encouragement </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
